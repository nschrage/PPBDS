<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Chapter 10 can delete the data directory. | Preceptor’s Primer for Bayesian Data Science" />
<meta property="og:type" content="book" />



<meta name="github-repo" content="davidkane9/PPBDS" />

<meta name="author" content="David Kane" />

<meta name="date" content="2020-06-25" />

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="Chapter 10 can delete the data directory. | Preceptor’s Primer for Bayesian Data Science">

<title>Chapter 10 can delete the data directory. | Preceptor’s Primer for Bayesian Data Science</title>

<link href="libs/tufte-css-2015.12.29/tufte.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/envisioned.css" rel="stylesheet" />
<link href="libs/msmb-css-0/msmb.css" rel="stylesheet" />
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);

e.style.display = ((e.style.display!='none') ? 'none' : 'block');

if(f.classList.contains('fa-plus-square')) {
    f.classList.add('fa-minus-square')
    f.classList.remove('fa-plus-square')
} else {
    f.classList.add('fa-plus-square')
    f.classList.remove('fa-minus-square')
}

}
</script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }

code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



</head>

<body>



<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul class="navbar">
<li class="msmb"><p class="title">Preceptor's Primer for Bayesian Data Science<p><p class="author">David Kane</p>
<li class="dropdown" style="float:right">
<a href="javascript:void(0)" class="dropbtn">&#x25BE; Chapters</a>
<div class="dropdown-content">
<a href="index.html">Cover</a>
<a href="visualization.html"><span class="toc-section-number">1</span> Visualization</a>
<a href="wrangling.html"><span class="toc-section-number">2</span> Tidyverse</a>
<a href="rubin-causal-model.html"><span class="toc-section-number">3</span> Rubin Causal Model</a>
<a href="functions.html"><span class="toc-section-number">4</span> Functions</a>
<a href="probability.html"><span class="toc-section-number">5</span> Probability</a>
<a href="sampling.html"><span class="toc-section-number">6</span> Sampling</a>
<a href="confidence-intervals.html"><span class="toc-section-number">7</span> One Parameter</a>
<a href="head.html"><span class="toc-section-number">8</span> &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</a>
<a href="dk-the-below-is-an-absurd-hack-create-a-proper-gt-table-directly-then-you.html.-create-a-proper-gt-table-directly.-then-you"><span class="toc-section-number">9</span> DK: The below is an absurd hack. Create a proper gt table directly. Then, you</a>
<a id="active-page" href="can-delete-the-data-directory-.html."><span class="toc-section-number">10</span> can delete the data directory.</a>
<a href="two-parameters.html"><span class="toc-section-number">11</span> Two Parameters</a>
<a href="n-parameters.html"><span class="toc-section-number">12</span> N Parameters</a>
<a href="regression.html"><span class="toc-section-number">13</span> Continuous Response I</a>
<a href="multiple-regression.html"><span class="toc-section-number">14</span> Continuous Response II</a>
<a href="classification.html"><span class="toc-section-number">15</span> Discrete Response</a>
<a href="machine-learning.html"><span class="toc-section-number">16</span> Machine Learning</a>
<a href="animation.html"><span class="toc-section-number">17</span> Animation</a>
<a href="getting-help.html"><span class="toc-section-number">18</span> Getting Help</a>
<a href="maps.html"><span class="toc-section-number">19</span> Maps</a>
<a href="">(APPENDIX) Appendix</a>
<a href="productivity.html"><span class="toc-section-number">20</span> Productivity</a>
<a href="references.html">References</a>
<a href="shiny.html"><span class="toc-section-number">21</span> Shiny</a>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><div id="can-delete-the-data-directory." class="section level1">
<h1>
<span class="header-section-number">Chapter 10</span> can delete the data directory.</h1>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>master</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#fkialzchkf .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fkialzchkf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fkialzchkf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fkialzchkf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fkialzchkf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fkialzchkf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fkialzchkf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fkialzchkf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fkialzchkf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fkialzchkf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fkialzchkf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fkialzchkf .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#fkialzchkf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fkialzchkf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fkialzchkf .gt_from_md > :first-child {
  margin-top: 0;
}

#fkialzchkf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fkialzchkf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fkialzchkf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#fkialzchkf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fkialzchkf .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#fkialzchkf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fkialzchkf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fkialzchkf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fkialzchkf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fkialzchkf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#fkialzchkf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fkialzchkf .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#fkialzchkf .gt_left {
  text-align: left;
}

#fkialzchkf .gt_center {
  text-align: center;
}

#fkialzchkf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fkialzchkf .gt_font_normal {
  font-weight: normal;
}

#fkialzchkf .gt_font_bold {
  font-weight: bold;
}

#fkialzchkf .gt_font_italic {
  font-style: italic;
}

#fkialzchkf .gt_super {
  font-size: 65%;
}

#fkialzchkf .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="fkialzchkf" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Scenario</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Population_parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Notation</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Point_Estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">Symbol</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left"><div class="gt_from_md">
<p>1</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Population Proportion</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$p$$</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Sample Proportion</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$\widehat{p}$$</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_left"><div class="gt_from_md">
<p>2</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Population mean</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$\mu $$</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Sample mean</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$\overline{x}$$ or $$\widehat{\mu}$$</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_left"><div class="gt_from_md">
<p>3</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Difference in population proportions</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$p_1 - p_2$$</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Difference in sample proportions</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$\widehat{p}_1 - \widehat{p}_2$$</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_left"><div class="gt_from_md">
<p>4</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Difference in Pupulation means</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$\mu_1 - \mu_2$$</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Difference in sample means</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$\overline{x}_1 - \overline{x}_2$$</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_left"><div class="gt_from_md">
<p>5</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Population regression slope</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$\beta_1$$</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Fitted regression slope</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$b_1$$ or $$\widehat{\beta}_1$$</p>
</div></td>
    </tr>
<tr>
<td class="gt_row gt_left"><div class="gt_from_md">
<p>6</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Population regression coefficient</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$\beta_0$$</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>Fitted regression intercept</p>
</div></td>
      <td class="gt_row gt_left"><div class="gt_from_md">
<p>$$b_0$$ or $$\widehat{\beta}_0$$</p>
</div></td>
    </tr>
</tbody>
</table></div>
<p>Going back to our 50 sampled pennies in Figure <a href="#fig:resampling-exercise-c"><strong>??</strong></a>, the point estimate of interest is the sample mean <span class="math inline">\(\overline{x}\)</span> of 1995.44. This quantity is an <em>estimate</em> of the population mean year of <em>all</em> US pennies <span class="math inline">\(\mu\)</span>.</p>
<p>Recall that we also saw in Chapter <a href="sampling.html#sampling">6</a> that such estimates are prone to <em>sampling variation</em>. For example, in this particular sample in Figure <a href="#fig:resampling-exercise-c"><strong>??</strong></a>, we observed three pennies with the year 1999. If we sampled another 50 pennies, would we observe exactly three pennies with the year 1999 again? More than likely not. We might observe none, one, two, or maybe even all 50! The same can be said for the other 26 unique years that are represented in our sample of 50 pennies.</p>
<p>To study the effects of <em>sampling variation</em> in Chapter <a href="sampling.html#sampling">6</a>, we took many samples, something we could easily do with our shovel. In our case with pennies, however, how would we obtain another sample? By going to the bank and getting another roll of 50 pennies.</p>
<p>Say we’re feeling lazy, however, and don’t want to go back to the bank. How can we study the effects of sampling variation using our <em>single sample</em>? We will do so using a technique known as <em>bootstrap resampling with replacement</em>, which we now illustrate.</p>
<div id="resampling-once" class="section level3">
<h3>
<span class="header-section-number">10.0.1</span> Resampling once</h3>
<p><strong>Step 1</strong>: Let’s print out identically sized slips of paper representing our 50 pennies as seen in Figure <a href="#fig:tactile-resampling-1"><strong>??</strong></a>.</p>
<div class="figure">
<span id="fig:unnamed-chunk-10"></span>
<p class="caption marginnote shownote">
FIGURE 10.1: Step 1: 50 slips of paper representing 50 US pennies.
</p>
<img src="07-one-parameter/images/1_paper_slips.png" alt="Step 1: 50 slips of paper representing 50 US pennies.">
</div>
<p><strong>Step 2</strong>: Put the 50 slips of paper into a hat or tuque as seen in Figure <a href="#fig:tactile-resampling-2"><strong>??</strong></a>.</p>
<div class="figure">
<span id="fig:unnamed-chunk-11"></span>
<p class="caption marginnote shownote">
FIGURE 10.2: Step 2: Putting 50 slips of paper in a hat.
</p>
<img src="07-one-parameter/images/2_insert_in_hat.png" alt="Step 2: Putting 50 slips of paper in a hat.">
</div>
<p><strong>Step 3</strong>: Mix the hat’s contents and draw one slip of paper at random as seen in Figure <a href="#fig:tactile-resampling-3"><strong>??</strong></a>. Record the year.</p>
<div class="figure">
<span id="fig:unnamed-chunk-12"></span>
<p class="caption marginnote shownote">
FIGURE 10.3: Step 3: Drawing one slip of paper at random.
</p>
<img src="07-one-parameter/images/3_draw_at_random.png" alt="Step 3: Drawing one slip of paper at random.">
</div>
<p><strong>Step 4</strong>: Put the slip of paper back in the hat! In other words, replace it as seen in Figure <a href="#fig:tactile-resampling-4"><strong>??</strong></a>.</p>
<div class="figure">
<span id="fig:unnamed-chunk-13"></span>
<p class="caption marginnote shownote">
FIGURE 10.4: Step 4: Replacing slip of paper.
</p>
<img src="07-one-parameter/images/4_put_it_back.png" alt="Step 4: Replacing slip of paper.">
</div>
<p><strong>Step 5</strong>: Repeat Steps 3 and 4 a total of 49 more times, resulting in 50 recorded years.</p>
<p>What we just performed was a <em>resampling</em>  of the original sample of 50 pennies. We are not sampling 50 pennies from the population of all US pennies as we did in our trip to the bank. Instead, we are mimicking this act by resampling 50 pennies from our original sample of 50 pennies.</p>
<p>Now ask yourselves, why did we replace our resampled slip of paper back into the hat in Step 4? Because if we left the slip of paper out of the hat each time we performed Step 4, we would end up with the same 50 original pennies! In other words, replacing the slips of paper induces <em>sampling variation</em>.</p>
<p>Being more precise with our terminology, we just performed a <em>resampling with replacement</em> from the original sample of 50 pennies. Had we left the slip of paper out of the hat each time we performed Step 4, this would be <em>resampling without replacement</em>.</p>
<p>Let’s study our 50 resampled pennies via an exploratory data analysis. First, let’s load the data into R by manually creating a data frame <code>pennies_resample</code> of our 50 resampled values. We’ll do this using the <code>tibble()</code> command from the <strong>dplyr</strong> package. Note that the 50 values you resample will almost certainly not be the same as ours given the inherent randomness.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="can-delete-the-data-directory-.html#cb7-1"></a>pennies_resample &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb7-2"><a href="can-delete-the-data-directory-.html#cb7-2"></a>  <span class="dt">year =</span> <span class="kw">c</span>(<span class="dv">1976</span>, <span class="dv">1962</span>, <span class="dv">1976</span>, <span class="dv">1983</span>, <span class="dv">2017</span>, <span class="dv">2015</span>, <span class="dv">2015</span>, <span class="dv">1962</span>, <span class="dv">2016</span>, <span class="dv">1976</span>, </span>
<span id="cb7-3"><a href="can-delete-the-data-directory-.html#cb7-3"></a>           <span class="dv">2006</span>, <span class="dv">1997</span>, <span class="dv">1988</span>, <span class="dv">2015</span>, <span class="dv">2015</span>, <span class="dv">1988</span>, <span class="dv">2016</span>, <span class="dv">1978</span>, <span class="dv">1979</span>, <span class="dv">1997</span>, </span>
<span id="cb7-4"><a href="can-delete-the-data-directory-.html#cb7-4"></a>           <span class="dv">1974</span>, <span class="dv">2013</span>, <span class="dv">1978</span>, <span class="dv">2015</span>, <span class="dv">2008</span>, <span class="dv">1982</span>, <span class="dv">1986</span>, <span class="dv">1979</span>, <span class="dv">1981</span>, <span class="dv">2004</span>, </span>
<span id="cb7-5"><a href="can-delete-the-data-directory-.html#cb7-5"></a>           <span class="dv">2000</span>, <span class="dv">1995</span>, <span class="dv">1999</span>, <span class="dv">2006</span>, <span class="dv">1979</span>, <span class="dv">2015</span>, <span class="dv">1979</span>, <span class="dv">1998</span>, <span class="dv">1981</span>, <span class="dv">2015</span>, </span>
<span id="cb7-6"><a href="can-delete-the-data-directory-.html#cb7-6"></a>           <span class="dv">2000</span>, <span class="dv">1999</span>, <span class="dv">1988</span>, <span class="dv">2017</span>, <span class="dv">1992</span>, <span class="dv">1997</span>, <span class="dv">1990</span>, <span class="dv">1988</span>, <span class="dv">2006</span>, <span class="dv">2000</span>)</span>
<span id="cb7-7"><a href="can-delete-the-data-directory-.html#cb7-7"></a>)</span></code></pre></div>
<p>The 50 values of <code>year</code> in <code>pennies_resample</code> represent a resample of size 50 from the original sample of 50 pennies. We display the 50 resampled pennies in Figure <a href="#fig:resampling-exercise-d"><strong>??</strong></a>.</p>
<div class="figure">
<span id="fig:unnamed-chunk-15"></span>
<p class="caption marginnote shownote">
FIGURE 10.5: 50 resampled US pennies labelled.
</p>
<img src="07-one-parameter/images/4.jpg" alt="50 resampled US pennies labelled.">
</div>
<p>Let’s compare the distribution of the numerical variable <code>year</code> of our 50 resampled pennies with the distribution of the numerical variable <code>year</code> of our original sample of 50 pennies in Figure <a href="#fig:origandresample"><strong>??</strong></a>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="can-delete-the-data-directory-.html#cb8-1"></a>pennies_resample <span class="op">%&gt;%</span></span>
<span id="cb8-2"><a href="can-delete-the-data-directory-.html#cb8-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year)) <span class="op">+</span></span>
<span id="cb8-3"><a href="can-delete-the-data-directory-.html#cb8-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">10</span>, <span class="dt">color =</span> <span class="st">"white"</span>) <span class="op">+</span></span>
<span id="cb8-4"><a href="can-delete-the-data-directory-.html#cb8-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Resample of 50 pennies"</span>)</span>
<span id="cb8-5"><a href="can-delete-the-data-directory-.html#cb8-5"></a></span>
<span id="cb8-6"><a href="can-delete-the-data-directory-.html#cb8-6"></a>pennies_sample <span class="op">%&gt;%</span></span>
<span id="cb8-7"><a href="can-delete-the-data-directory-.html#cb8-7"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year)) <span class="op">+</span></span>
<span id="cb8-8"><a href="can-delete-the-data-directory-.html#cb8-8"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">10</span>, <span class="dt">color =</span> <span class="st">"white"</span>) <span class="op">+</span></span>
<span id="cb8-9"><a href="can-delete-the-data-directory-.html#cb8-9"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Original sample of 50 pennies"</span>)</span></code></pre></div>

<pre><code>## Warning: Removed 2 rows containing missing values (geom_bar).

## Warning: Removed 2 rows containing missing values (geom_bar).</code></pre>
<div class="figure">
<span id="fig:unnamed-chunk-17"></span>
<p class="caption marginnote shownote">
FIGURE 10.6: Comparing <code>year</code> in the resampled <code>pennies_resample</code> with the original sample <code>pennies_sample</code>.
</p>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-17-1.png" alt="Comparing year in the resampled pennies_resample with the original sample pennies_sample." width="672">
</div>
<p>Observe in Figure <a href="#fig:origandresample"><strong>??</strong></a> that while the general shapes of both distributions of <code>year</code> are roughly similar, they are not identical.</p>
<p>Recall from the previous section that the sample mean of the original sample of 50 pennies from the bank was 1995.44. What about for our resample? Any guesses? Let’s have <strong>dplyr</strong> help us out as before:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="can-delete-the-data-directory-.html#cb10-1"></a>pennies_resample <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb10-2"><a href="can-delete-the-data-directory-.html#cb10-2"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_year =</span> <span class="kw">mean</span>(year))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   mean_year
##       &lt;dbl&gt;
## 1     1997.</code></pre>
<p>We obtained a different mean year of 1996.8. This variation is induced by the resampling <em>with replacement</em> we performed earlier.</p>
<p>What if we repeated this resampling exercise many times? Would we obtain the same mean <code>year</code> each time? In other words, would our guess at the mean year of all pennies in the US in 2019 be exactly 1996.8 every time? Just as we did in Chapter <a href="sampling.html#sampling">6</a>, let’s perform this resampling activity with the help of some of our friends: 35 friends in total.</p>
</div>
<div id="student-resamples" class="section level3">
<h3>
<span class="header-section-number">10.0.2</span> Resampling 35 times</h3>
<p>Each of our 35 friends will repeat the same five steps:</p>
<ol style="list-style-type: decimal">
<li>Start with 50 identically sized slips of paper representing the 50 pennies.</li>
<li>Put the 50 small pieces of paper into a hat or beanie cap.</li>
<li>Mix the hat’s contents and draw one slip of paper at random. Record the year in a spreadsheet.</li>
<li>Replace the slip of paper back in the hat!</li>
<li>Repeat Steps 3 and 4 a total of 49 more times, resulting in 50 recorded years.</li>
</ol>
<p>Since we had 35 of our friends perform this task, we will end up with <span class="math inline">\(35 \cdot 50 = 1750\)</span> values. These values are recorded in a <a href="https://docs.google.com/spreadsheets/d/1y3kOsU_wDrDd5eiJbEtLeHT9L5SvpZb_TrzwFBsouk0/">shared spreadsheet</a> with 50 rows (plus a header row) and 35 columns. We display a snapshot of the first 10 rows and five columns of this shared spreadsheet in Figure <a href="#fig:tactile-resampling-5"><strong>??</strong></a>.</p>
<div class="figure">
<span id="fig:unnamed-chunk-20"></span>
<p class="caption marginnote shownote">
FIGURE 10.7: Snapshot of shared spreadsheet of resampled pennies.
</p>
<img src="07-one-parameter/images/5_shared_spreadsheet.png" alt="Snapshot of shared spreadsheet of resampled pennies.">
</div>
<p>These 35 <span class="math inline">\(\cdot\)</span> 50 = 1750 values are saved in <code>pennies_resamples</code>, a “tidy” data frame included in the <strong>moderndive</strong> package. We saw what it means for a data frame to be “tidy” in Subsection <a href="tidy-data-ex.html#tidy-definition">2.7.1</a>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="can-delete-the-data-directory-.html#cb12-1"></a>pennies_resamples</span></code></pre></div>
<pre><code>## # A tibble: 1,750 x 3
## # Groups:   name [35]
##    replicate name     year
##        &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;
##  1         1 Arianna  1988
##  2         1 Arianna  2002
##  3         1 Arianna  2015
##  4         1 Arianna  1998
##  5         1 Arianna  1979
##  6         1 Arianna  1971
##  7         1 Arianna  1971
##  8         1 Arianna  2015
##  9         1 Arianna  1988
## 10         1 Arianna  1979
## # … with 1,740 more rows</code></pre>
<p>What did each of our 35 friends obtain as the mean year? Once again, <strong>dplyr</strong> to the rescue! After grouping the rows by <code>name</code>, we summarize each group of 50 rows by their mean <code>year</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="can-delete-the-data-directory-.html#cb14-1"></a>resampled_means &lt;-<span class="st"> </span>pennies_resamples <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-2"><a href="can-delete-the-data-directory-.html#cb14-2"></a><span class="st">  </span><span class="kw">group_by</span>(name) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb14-3"><a href="can-delete-the-data-directory-.html#cb14-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_year =</span> <span class="kw">mean</span>(year))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="can-delete-the-data-directory-.html#cb16-1"></a>resampled_means</span></code></pre></div>
<pre><code>## # A tibble: 35 x 2
##    name      mean_year
##    &lt;chr&gt;         &lt;dbl&gt;
##  1 Arianna       1992.
##  2 Artemis       1996.
##  3 Bea           1996.
##  4 Camryn        1997.
##  5 Cassandra     1991.
##  6 Cindy         1995.
##  7 Claire        1996.
##  8 Dahlia        1998.
##  9 Dan           1994.
## 10 Eindra        1994.
## # … with 25 more rows</code></pre>
<p>Observe that <code>resampled_means</code> has 35 rows corresponding to the 35 means based on the 35 resamples. Furthermore, observe the variation in the 35 values in the variable <code>mean_year</code>. Let’s visualize this variation using a histogram in Figure <a href="#fig:tactile-resampling-6"><strong>??</strong></a>. Recall that adding the argument <code>boundary = 1990</code> to the <code>geom_histogram()</code> sets the binning structure so that one of the bin boundaries is at 1990 exactly.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="can-delete-the-data-directory-.html#cb18-1"></a><span class="kw">ggplot</span>(resampled_means, <span class="kw">aes</span>(<span class="dt">x =</span> mean_year)) <span class="op">+</span></span>
<span id="cb18-2"><a href="can-delete-the-data-directory-.html#cb18-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="st">"white"</span>, <span class="dt">boundary =</span> <span class="dv">1990</span>) <span class="op">+</span></span>
<span id="cb18-3"><a href="can-delete-the-data-directory-.html#cb18-3"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Sampled mean year"</span>)</span></code></pre></div>
<div class="figure">
<span id="fig:unnamed-chunk-23"></span>
<p class="caption marginnote shownote">
FIGURE 10.8: Distribution of 35 sample means from 35 resamples.
</p>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-23-1.png" alt="Distribution of 35 sample means from 35 resamples." width="672">
</div>
<p>Observe in Figure <a href="#fig:tactile-resampling-6"><strong>??</strong></a> that the distribution looks roughly normal and that we rarely observe sample mean years less than 1992 or greater than 2000. Also observe how the distribution is roughly centered at 1995, which is close to the sample mean of 1995.44 of the <em>original sample</em> of 50 pennies from the bank.</p>
</div>
<div id="what-did-we-just-do" class="section level3">
<h3>
<span class="header-section-number">10.0.3</span> What did we just do?</h3>
<p>What we just demonstrated in this activity is the statistical procedure known as  <em>bootstrap resampling with replacement</em>. We used <em>resampling</em> to mimic the sampling variation we studied in Chapter <a href="sampling.html#sampling">6</a> on sampling. However, in this case, we did so using only a <em>single</em> sample from the population.</p>
<p>In fact, the histogram of sample means from 35 resamples in Figure <a href="#fig:tactile-resampling-6"><strong>??</strong></a> is called the  <em>bootstrap distribution</em>. It is an <em>approximation</em> to the <em>sampling distribution</em> of the sample mean, in the sense that both distributions will have a similar shape and similar spread. In fact in the upcoming Section <a href="ci-conclusion.html#ci-conclusion">10.7</a>, we’ll show you that this is the case. Using this bootstrap distribution, we can study the effect of sampling variation on our estimates. In particular, we’ll study the typical “error” of our estimates, known as the  <em>standard error</em>.</p>
<p>Starting in Subsection <a href="can-delete-the-data-directory-.html#resampling-simulation">10.0.4</a>, we’ll mimic our tactile resampling activity virtually on the computer, allowing us to quickly perform the resampling many more than 35 times. In Section <a href="ci-build-up.html#ci-build-up">10.1</a> we’ll define the statistical concept of a <em>confidence interval</em>, which builds off the concept of bootstrap distributions.</p>
<p>As we did in Chapter <a href="sampling.html#sampling">6</a>, we’ll tie all these ideas together with a real-life case study in Section <a href="case-study-two-prop-ci.html#case-study-two-prop-ci">10.6</a>. This time we’ll look at data from an experiment about yawning from the US television show <em>Mythbusters</em>.</p>
<p>Let’s now mimic our tactile resampling activity virtually with a computer.</p>
</div>
<div id="resampling-simulation" class="section level3">
<h3>
<span class="header-section-number">10.0.4</span> Virtually resampling once</h3>
<p>First, let’s perform the virtual analog of resampling once. Recall that the <code>pennies_sample</code> data frame included in the <strong>moderndive</strong> package contains the years of our original sample of 50 pennies from the bank. Furthermore, recall in Chapter <a href="sampling.html#sampling">6</a> on sampling that we used the <code>rep_sample_n()</code> function in the <strong>infer</strong> package as a virtual shovel to sample balls from our virtual urn of 2400 balls as follows:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="can-delete-the-data-directory-.html#cb19-1"></a><span class="kw">library</span>(infer)</span>
<span id="cb19-2"><a href="can-delete-the-data-directory-.html#cb19-2"></a></span>
<span id="cb19-3"><a href="can-delete-the-data-directory-.html#cb19-3"></a>virtual_shovel &lt;-<span class="st"> </span>urn <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb19-4"><a href="can-delete-the-data-directory-.html#cb19-4"></a><span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">50</span>)</span></code></pre></div>
<p>Let’s modify this code to perform the resampling with replacement of the 50 slips of paper representing our original sample of 50 pennies:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="can-delete-the-data-directory-.html#cb20-1"></a>virtual_resample &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-2"><a href="can-delete-the-data-directory-.html#cb20-2"></a><span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">50</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p>Observe how we explicitly set the <code>replace</code> argument to <code>TRUE</code> in order to tell <code>rep_sample_n()</code> that we would like to sample pennies  <em>with</em> replacement. Had we not set <code>replace = TRUE</code>, the function would’ve assumed the default value of <code>FALSE</code> and hence done resampling <em>without</em> replacement. Additionally, since we didn’t specify the number of replicates via the <code>reps</code> argument, the function assumes the default of one replicate <code>reps = 1</code>. Lastly, observe also that the <code>size</code> argument is set to match the original sample size of 50 pennies.</p>
<p>Let’s look at only the first 10 out of 50 rows of <code>virtual_resample</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="can-delete-the-data-directory-.html#cb21-1"></a>virtual_resample</span></code></pre></div>
<pre><code>## # A tibble: 50 x 3
## # Groups:   replicate [1]
##    replicate    ID  year
##        &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
##  1         1    39  2015
##  2         1    37  1962
##  3         1    13  2015
##  4         1    36  2015
##  5         1     4  1988
##  6         1     1  2002
##  7         1    12  1995
##  8         1    27  1993
##  9         1     5  2008
## 10         1    10  2000
## # … with 40 more rows</code></pre>
<p>The <code>replicate</code> variable only takes on the value of 1 corresponding to us only having <code>reps = 1</code>, the <code>ID</code> variable indicates which of the 50 pennies from <code>pennies_sample</code> was resampled, and <code>year</code> denotes the year of minting. Let’s now compute the mean <code>year</code> in our virtual resample of size 50 using data wrangling functions included in the <strong>dplyr</strong> package:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="can-delete-the-data-directory-.html#cb23-1"></a>virtual_resample <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb23-2"><a href="can-delete-the-data-directory-.html#cb23-2"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">resample_mean =</span> <span class="kw">mean</span>(year))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 1 x 2
##   replicate resample_mean
##       &lt;int&gt;         &lt;dbl&gt;
## 1         1         1998.</code></pre>
<p>As we saw when we did our tactile resampling exercise, the resulting mean year is different than the mean year of our 50 originally sampled pennies of 1995.44.</p>
<!-- 
Chester: Not sure if needed, but those trying to follow along may be mystified if we don't include this. 

Note that tibbles will try to print as pretty as possible which may result in numbers being rounded. In this chapter, we have set the default number of values to be printed to six in tibbles with `options(pillar.sigfig = 6)`.

Albert: We'll need to explain that command and why tidyverse opts for 3 sigfigs.
-->
</div>
<div id="bootstrap-35-replicates" class="section level3">
<h3>
<span class="header-section-number">10.0.5</span> Virtually resampling 35 times</h3>
<p>Let’s now perform the virtual analog of our 35 friends’ resampling. Using these results, we’ll be able to study the variability in the sample means from 35 resamples of size 50. Let’s first add a <code>reps = 35</code> argument to <code>rep_sample_n()</code>  to indicate we would like 35 replicates. Thus, we want to repeat the resampling with the replacement of 50 pennies 35 times.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="can-delete-the-data-directory-.html#cb26-1"></a>virtual_resamples &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb26-2"><a href="can-delete-the-data-directory-.html#cb26-2"></a><span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">50</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">reps =</span> <span class="dv">35</span>)</span>
<span id="cb26-3"><a href="can-delete-the-data-directory-.html#cb26-3"></a>virtual_resamples</span></code></pre></div>
<pre><code>## # A tibble: 1,750 x 3
## # Groups:   replicate [35]
##    replicate    ID  year
##        &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
##  1         1    33  1979
##  2         1    36  2015
##  3         1    46  2017
##  4         1     7  2008
##  5         1    12  1995
##  6         1    33  1979
##  7         1    20  1971
##  8         1    10  2000
##  9         1    28  2006
## 10         1    18  1996
## # … with 1,740 more rows</code></pre>
<p>The resulting <code>virtual_resamples</code> data frame has 35 <span class="math inline">\(\cdot\)</span> 50 = 1750 rows corresponding to 35 resamples of 50 pennies. Let’s now compute the resulting 35 sample means using the same <strong>dplyr</strong> code as we did in the previous section, but this time adding a <code>group_by(replicate)</code>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="can-delete-the-data-directory-.html#cb28-1"></a>virtual_resampled_means &lt;-<span class="st"> </span>virtual_resamples <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb28-2"><a href="can-delete-the-data-directory-.html#cb28-2"></a><span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb28-3"><a href="can-delete-the-data-directory-.html#cb28-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_year =</span> <span class="kw">mean</span>(year))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="can-delete-the-data-directory-.html#cb30-1"></a>virtual_resampled_means</span></code></pre></div>
<pre><code>## # A tibble: 35 x 2
##    replicate mean_year
##        &lt;int&gt;     &lt;dbl&gt;
##  1         1     1996.
##  2         2     1995.
##  3         3     1990.
##  4         4     1996.
##  5         5     1997.
##  6         6     1994.
##  7         7     1998.
##  8         8     1993.
##  9         9     1999.
## 10        10     1993.
## # … with 25 more rows</code></pre>
<p>Observe that <code>virtual_resampled_means</code> has 35 rows, corresponding to the 35 resampled means. Furthermore, observe that the values of <code>mean_year</code> vary. Let’s visualize this variation using a histogram in Figure <a href="#fig:tactile-resampling-7"><strong>??</strong></a>.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="can-delete-the-data-directory-.html#cb32-1"></a><span class="kw">ggplot</span>(virtual_resampled_means, <span class="kw">aes</span>(<span class="dt">x =</span> mean_year)) <span class="op">+</span></span>
<span id="cb32-2"><a href="can-delete-the-data-directory-.html#cb32-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="st">"white"</span>, <span class="dt">boundary =</span> <span class="dv">1990</span>) <span class="op">+</span></span>
<span id="cb32-3"><a href="can-delete-the-data-directory-.html#cb32-3"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"Resample mean year"</span>)</span></code></pre></div>
<div class="figure">
<span id="fig:unnamed-chunk-32"></span>
<p class="caption marginnote shownote">
FIGURE 10.9: Distribution of 35 sample means from 35 resamples.
</p>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-32-1.png" alt="Distribution of 35 sample means from 35 resamples." width="672">
</div>
<p>Let’s compare our virtually constructed bootstrap distribution with the one our 35 friends constructed via our tactile resampling exercise in Figure <a href="#fig:orig-and-resample-means"><strong>??</strong></a>. Observe how they are somewhat similar, but not identical.</p>
<div class="figure">
<span id="fig:unnamed-chunk-33"></span>
<p class="caption marginnote shownote">
FIGURE 10.10: Comparing distributions of means from resamples.
</p>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-33-1.png" alt="Comparing distributions of means from resamples." width="672">
</div>
<p>Recall that in the “resampling with replacement” scenario we are illustrating here, both of these histograms have a special name: the <em>bootstrap distribution of the sample mean</em>. Furthermore, recall they are an approximation to the <em>sampling distribution</em> of the sample mean, a concept you saw in Chapter <a href="sampling.html#sampling">6</a> on sampling. These distributions allow us to study the effect of sampling variation on our estimates of the true population mean, in this case the true mean year for <em>all</em> US pennies. However, unlike in Chapter <a href="sampling.html#sampling">6</a> where we took multiple samples (something one would never do in practice), bootstrap distributions are constructed by taking multiple resamples from a <em>single</em> sample: in this case, the 50 original pennies from the bank.</p>
</div>
<div id="bootstrap-1000-replicates" class="section level3">
<h3>
<span class="header-section-number">10.0.6</span> Virtually resampling 1,000 times</h3>
<p>Remember that one of the goals of resampling with replacement is to construct the bootstrap distribution, which is an approximation of the sampling distribution. However, the bootstrap distribution in Figure <a href="#fig:tactile-resampling-7"><strong>??</strong></a> is based only on 35 resamples and hence looks a little coarse. Let’s increase the number of resamples to 1,000, so that we can hopefully better see the shape and the variability between different resamples.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="can-delete-the-data-directory-.html#cb33-1"></a><span class="co"># Repeat resampling 1,000 times</span></span>
<span id="cb33-2"><a href="can-delete-the-data-directory-.html#cb33-2"></a></span>
<span id="cb33-3"><a href="can-delete-the-data-directory-.html#cb33-3"></a>virtual_resamples &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-4"><a href="can-delete-the-data-directory-.html#cb33-4"></a><span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">50</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">reps =</span> <span class="dv">1000</span>)</span>
<span id="cb33-5"><a href="can-delete-the-data-directory-.html#cb33-5"></a></span>
<span id="cb33-6"><a href="can-delete-the-data-directory-.html#cb33-6"></a><span class="co"># Compute 1,000 sample means</span></span>
<span id="cb33-7"><a href="can-delete-the-data-directory-.html#cb33-7"></a></span>
<span id="cb33-8"><a href="can-delete-the-data-directory-.html#cb33-8"></a>virtual_resampled_means &lt;-<span class="st"> </span>virtual_resamples <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-9"><a href="can-delete-the-data-directory-.html#cb33-9"></a><span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb33-10"><a href="can-delete-the-data-directory-.html#cb33-10"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_year =</span> <span class="kw">mean</span>(year))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<p>However, in the interest of brevity, going forward let’s combine these two operations into a single chain of pipe (<code>%&gt;%</code>) operators:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="can-delete-the-data-directory-.html#cb35-1"></a>virtual_resampled_means &lt;-<span class="st"> </span>pennies_sample <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-2"><a href="can-delete-the-data-directory-.html#cb35-2"></a><span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">50</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">reps =</span> <span class="dv">1000</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-3"><a href="can-delete-the-data-directory-.html#cb35-3"></a><span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-4"><a href="can-delete-the-data-directory-.html#cb35-4"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_year =</span> <span class="kw">mean</span>(year))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="can-delete-the-data-directory-.html#cb37-1"></a>virtual_resampled_means</span></code></pre></div>
<pre><code>## # A tibble: 1,000 x 2
##    replicate mean_year
##        &lt;int&gt;     &lt;dbl&gt;
##  1         1     1993.
##  2         2     1996.
##  3         3     1993.
##  4         4     1992.
##  5         5     1995.
##  6         6     1999.
##  7         7     1995.
##  8         8     1992.
##  9         9     1992.
## 10        10     1998.
## # … with 990 more rows</code></pre>
<p>In Figure <a href="#fig:one-thousand-sample-means"><strong>??</strong></a> let’s visualize the bootstrap distribution of these 1,000 means based on 1,000 virtual resamples:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="can-delete-the-data-directory-.html#cb39-1"></a>virtual_resampled_means <span class="op">%&gt;%</span></span>
<span id="cb39-2"><a href="can-delete-the-data-directory-.html#cb39-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> mean_year)) <span class="op">+</span></span>
<span id="cb39-3"><a href="can-delete-the-data-directory-.html#cb39-3"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">1</span>, <span class="dt">color =</span> <span class="st">"white"</span>, <span class="dt">boundary =</span> <span class="dv">1990</span>) <span class="op">+</span></span>
<span id="cb39-4"><a href="can-delete-the-data-directory-.html#cb39-4"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">"sample mean"</span>)</span></code></pre></div>
<div class="figure">
<span id="fig:unnamed-chunk-36"></span>
<p class="caption marginnote shownote">
FIGURE 10.11: Bootstrap resampling distribution based on 1000 resamples.
</p>
<img src="Preceptor%E2%80%99s-Primer-for-Bayesian-Data-Science_files/figure-html/unnamed-chunk-36-1.png" alt="Bootstrap resampling distribution based on 1000 resamples." width="672">
</div>
<p>Note here that the bell shape is starting to become much more apparent. We now have a general sense for the range of values that the sample mean may take on. But where is this histogram centered? Let’s compute the mean of the 1,000 resample means:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="can-delete-the-data-directory-.html#cb40-1"></a>virtual_resampled_means <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb40-2"><a href="can-delete-the-data-directory-.html#cb40-2"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean_of_means =</span> <span class="kw">mean</span>(mean_year))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   mean_of_means
##           &lt;dbl&gt;
## 1         1996.</code></pre>
<p>The mean of these 1,000 means is 1995.51, which is quite close to the mean of our original sample of 50 pennies of 1995.44. This is the case since each of the 1,000 resamples is based on the original sample of 50 pennies.</p>
<p>Congratulations! You’ve just constructed your first bootstrap distribution! In the next section, you’ll see how to use this bootstrap distribution to construct <em>confidence intervals</em>.</p>
</div>
</div></body></html>

<p style="text-align: center;">
<a href="dk-the-below-is-an-absurd-hack-create-a-proper-gt-table-directly-then-you.html"><button class="btn btn-default">Previous</button></a>
<a href="ci-build-up.html"><button class="btn btn-default">Next</button></a>
</p>
<p class="build-date">Page built: 
2020-06-25
</p>
</div>
</div>



</body>
</html>
